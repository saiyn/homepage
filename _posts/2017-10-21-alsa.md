---
layout: post
title:  "alsa开发笔记"
date:   2017-10-21 15:15:54
categories: linux
excerpt: alsa linux alsa-lib alsa-driver hda
---

* content
{:toc}

初次接触ALSA感觉其深不可测，涉及到内核驱动代码的分析，架构的理解、应用层的alsa-lib库的使用以及系统运行环境的相关配置管理机制。一开始因为缺乏总体上的认识，
所以只能以项目中的遇到的实际问题为起点，一点一点深入其中。经过差不多两年的积累，现在无论时总体上的理解还是细节上的把握得有了一些收获。

网上关于这块的文章，大部分会先从概念开始介绍alsa，本文直接先从内核层面来剖析。

---

# ALSA的音频输出流程



> In design of ALSA PCM core, status and control data for runtime of ALSA PCM substream are shared between kernel/usr spaces by page 
> frame mapping with read-only attribute. Both of hardware-side and application-side position on PCM buffer are maintained as a part of 
> the status data. In a view of ALSA PCM application, these two positions can be updated by executing ioctl(2) with some commands.



