---
layout: post
title:  "Gpu相关笔记"
date:   2017-03-2５ 15:15:54
categories: Diary
excerpt: gpu linux mesa x11 display
---

* content
{:toc}


记录开发中和平时学习总结的关于GPU方面的知识。

---

## GTT

工作中刚接触到GPU相关内容时，经常看到听到关于GTT的概念。单纯研究理解GTT的概念可能不是很好懂，有时候我们需要跳出问题本身而`站的高一点`来看问题就容易理解很多。
所以我们先研究显卡显存的管理机制。

显卡使用的内存分为两部分，一部分是显卡自身集成的内存叫做`VRAM`,另一部分是使用系统的内存。所谓的集成显卡就是没有自身内存而完全使用系统内存的显卡。因为访问显存的速度显然要比访问系统内存快很多，所以高端游戏笔记本独显是基本配置。对于即要使用自身显存，又要使用系统内存的显卡，如何管理这两种内存，就引出了GTT的概念。因为显卡如果要想使用系统内存，肯定得申请，而且一般需要的内存基本上是大于512M的大快内存，如果让内核一次性分配连续的这么大的内存给显卡使用肯定是不可能的，因为者会造成很大的浪费。所以显存必须按需向系统申请内存。这样显卡得到的系统内存肯定是不连续的。而显卡自身的内存一般是连续的。对于管理这两种内存，最简单的方法就是统一编址(这类似与RISC机器上IO和内存统一遍址)。统一编址管理不连续的内存，显然就得建立内存页表进行映射。所有GTT全称正是:graphics address remapping table.说白了，GTT就是显卡中用于管理系统内存的一种机制，和系统自身所使用的页表映射非常类似。



---


















