---
layout: post
title:  "Nmap"
date:   2022-10-28 15:15:54
categories: IOT Security
excerpt: iot nmap linux
---

* content
{:toc}



# 模块

## Host Discovery

任何的网络探测第一步肯定是设备发现，Nmap的Host Discovery模块提供了非常多的选项， 但是使用`-sL`和`-Pn`参数可以直接跳过设备发现这一步。
如果在使用nmap扫描时没有指定任何的options，那么nmap的默认行为是:
* send an ICMP echo request
* send a TCP SYN packet to port 443
* send a TCP ACK packet to port 80
* send an ICMP timestamp request

上面这些默认的行为等同于`nmap -PE -PS443 -PA80 -PP`进行扫描

另外，如果nmap检测到当前的网络是local ethernet network, 并且nmap是在特权模式下运行的，那么nmap会触发ARP(for IPv4)和Neighbor Discovery（for IPv6扫描，非特权模式下的话，nmap会使用连接(connect)tcp的80和443端口，并发送一个SYN包。

但是根据实际经验来看，nmap的host discovery功能在一些情况下并不能探测到所有的联网设备，尤其是对于一些息屏下的手机设备，后面会介绍一种来自于fing的特殊探测算法。


